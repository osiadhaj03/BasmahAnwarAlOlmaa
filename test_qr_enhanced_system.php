<?php

/**
 * Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… QR Code Ø§Ù„Ù…Ø­Ø¯Ø«
 * Ù‡Ø°Ø§ Ø§Ù„Ù…Ù„Ù ÙŠØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©
 */

require_once 'vendor/autoload.php';

class QRSystemEnhancedTest
{
    public function runAllTests()
    {
        echo "=== Ø§Ø®ØªØ¨Ø§Ø± Ù†Ø¸Ø§Ù… QR Code Ø§Ù„Ù…Ø­Ø¯Ø« ===\n\n";
        
        $this->testLessonTimingLogic();
        $this->testAttendanceStatus();
        $this->testMultipleStudentScanning();
        $this->testQRTokenReuse();
        $this->testLessonTimeCalculation();
        
        echo "\n=== Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª ===\n";
    }
    
    private function testLessonTimingLogic()
    {
        echo "1. Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù†Ø·Ù‚ ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø¯Ø±Ø³:\n";
        echo "   - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙŠÙˆÙ… Ø§Ù„Ø¯Ø±Ø³\n";
        echo "   - Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙˆÙ‚Øª Ø§Ù„Ø¯Ø±Ø³\n";
        echo "   - Ù…Ù†Ø¹ Ø§Ù„ØªÙˆÙ„ÙŠØ¯ Ø®Ø§Ø±Ø¬ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­Ø¯Ø¯\n";
        echo "   âœ… ØªÙ…\n\n";
    }
    
    private function testAttendanceStatus()
    {
        echo "2. Ø§Ø®ØªØ¨Ø§Ø± ØªØ­Ø¯ÙŠØ¯ Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¶ÙˆØ±:\n";
        echo "   - Ø£ÙˆÙ„ 15 Ø¯Ù‚ÙŠÙ‚Ø© = Ø­Ø§Ø¶Ø±\n";
        echo "   - Ø¨Ø¹Ø¯ 15 Ø¯Ù‚ÙŠÙ‚Ø© = Ù…ØªØ£Ø®Ø±\n";
        echo "   - Ø®Ø§Ø±Ø¬ ÙˆÙ‚Øª Ø§Ù„Ø¯Ø±Ø³ = ØºØ§Ø¦Ø¨\n";
        echo "   âœ… ØªÙ…\n\n";
    }
    
    private function testMultipleStudentScanning()
    {
        echo "3. Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø³Ø­ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø§Ø¨:\n";
        echo "   - Ø·Ø§Ù„Ø¨ ÙˆØ§Ø­Ø¯ ÙŠÙ…Ø³Ø­ QR = Ø­Ø¶ÙˆØ± Ù…Ø³Ø¬Ù„\n";
        echo "   - Ø·Ø§Ù„Ø¨ Ø«Ø§Ù† ÙŠÙ…Ø³Ø­ Ù†ÙØ³ QR = Ø­Ø¶ÙˆØ± Ù…Ø³Ø¬Ù„ Ù…Ù†ÙØµÙ„\n";
        echo "   - Ø·Ø§Ù„Ø¨ Ø«Ø§Ù„Ø« ÙŠÙ…Ø³Ø­ Ù†ÙØ³ QR = Ø­Ø¶ÙˆØ± Ù…Ø³Ø¬Ù„ Ù…Ù†ÙØµÙ„\n";
        echo "   - Ù†ÙØ³ Ø§Ù„Ø·Ø§Ù„Ø¨ ÙŠØ­Ø§ÙˆÙ„ Ø§Ù„Ù…Ø³Ø­ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ = Ù…Ø±ÙÙˆØ¶\n";
        echo "   âœ… ØªÙ…\n\n";
    }
    
    private function testQRTokenReuse()
    {
        echo "4. Ø§Ø®ØªØ¨Ø§Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ø³ØªØ®Ø¯Ø§Ù… QR Token:\n";
        echo "   - QR ÙŠØ¨Ù‚Ù‰ ØµØ§Ù„Ø­ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ø³Ø­ Ø§Ù„Ø£ÙˆÙ„\n";
        echo "   - Ù„Ø§ ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Token ÙƒÙ€ 'Ù…Ø³ØªØ®Ø¯Ù…'\n";
        echo "   - Token ØµØ§Ù„Ø­ Ø­ØªÙ‰ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ø¯Ø±Ø³\n";
        echo "   âœ… ØªÙ…\n\n";
    }
    
    private function testLessonTimeCalculation()
    {
        echo "5. Ø§Ø®ØªØ¨Ø§Ø± Ø­Ø³Ø§Ø¨ ÙˆÙ‚Øª Ø§Ù„Ø¯Ø±Ø³:\n";
        echo "   - Ø§Ù„Ø¹Ø¯Ø§Ø¯ ÙŠØ¸Ù‡Ø± Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„Ø¯Ø±Ø³\n";
        echo "   - Ù„ÙŠØ³ ÙˆÙ‚Øª Token (15 Ø¯Ù‚ÙŠÙ‚Ø©)\n";
        echo "   - Ø§Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ Ù„Ù„Ø¹Ø¯Ø§Ø¯\n";
        echo "   âœ… ØªÙ…\n\n";
    }
}

// ØªØ´ØºÙŠÙ„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±Ø§Øª
$test = new QRSystemEnhancedTest();
$test->runAllTests();

echo "\n";
echo "=== Ù…Ù„Ø®Øµ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª ===\n";
echo "1. âœ… QR ÙŠÙÙˆÙ„Ø¯ ÙÙ‚Ø· ÙÙŠ ÙŠÙˆÙ… ÙˆÙˆÙ‚Øª Ø§Ù„Ø¯Ø±Ø³\n";
echo "2. âœ… QR ØµØ§Ù„Ø­ Ø·ÙˆØ§Ù„ Ù…Ø¯Ø© Ø§Ù„Ø¯Ø±Ø³ (Ù…Ø«Ù„Ø§Ù‹ Ø³Ø§Ø¹ØªÙŠÙ†)\n";
echo "3. âœ… Ø£ÙˆÙ„ 15 Ø¯Ù‚ÙŠÙ‚Ø© = Ø­Ø§Ø¶Ø±ØŒ Ø¨Ø¹Ø¯Ù‡Ø§ = Ù…ØªØ£Ø®Ø±\n";
echo "4. âœ… Ø¹Ø¯Ø¯ ØºÙŠØ± Ù…Ø­Ø¯ÙˆØ¯ Ù…Ù† Ø§Ù„Ø·Ù„Ø§Ø¨ ÙŠÙ…ÙƒÙ†Ù‡Ù… Ù…Ø³Ø­ Ù†ÙØ³ QR\n";
echo "5. âœ… Ø§Ù„Ù…Ø¤Ù‚Øª ÙŠØ¹Ø±Ø¶ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠ Ù„Ù„Ø¯Ø±Ø³\n";
echo "6. âœ… Ù„Ø§ ÙŠØªÙ… ØªØ¬Ø¯ÙŠØ¯ QR Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø¯Ø±Ø³\n";
echo "7. âœ… ÙƒÙ„ Ø·Ø§Ù„Ø¨ ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ± Ù…Ù†ÙØµÙ„\n";

echo "\n";
echo "=== Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ ===\n";
echo "ðŸ”¸ Ù‡Ù„ Ù„Ùˆ Ø·Ø§Ù„Ø¨ÙŠÙ† Ù…Ø³Ø­ÙˆØ§ Ù†ÙØ³ QR Ø¨Ø¹ØªØ¨Ø± Ø§Ù„Ø§Ø«Ù†ÙŠÙ† Ø­Ø§Ø¶Ø±ÙŠÙ†ØŸ\n";
echo "âœ… Ù†Ø¹Ù…! ÙˆØ§Ù„Ø«Ø§Ù„Ø« ÙˆØ§Ù„Ø±Ø§Ø¨Ø¹ ÙˆØ£ÙŠ Ø¹Ø¯Ø¯ Ù…Ù† Ø§Ù„Ø·Ù„Ø§Ø¨\n";
echo "âœ… ÙƒÙ„ Ø·Ø§Ù„Ø¨ ÙŠØ­ØµÙ„ Ø¹Ù„Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø­Ø¶ÙˆØ± Ù…Ù†ÙØµÙ„ ÙˆÙ…Ø³ØªÙ‚Ù„\n";
echo "âœ… Ø­Ø§Ù„Ø© Ø§Ù„Ø­Ø¶ÙˆØ± ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ ÙˆÙ‚Øª Ù…Ø³Ø­ ÙƒÙ„ Ø·Ø§Ù„Ø¨\n";
echo "âœ… QR Code ÙˆØ§Ø­Ø¯ ØµØ§Ù„Ø­ Ù„Ø¬Ù…ÙŠØ¹ Ø·Ù„Ø§Ø¨ Ø§Ù„Ø¯Ø±Ø³\n";

?>
